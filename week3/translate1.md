
*عنوان:* Integrating Multi-Access Edge Computing (MEC) into Open 5G Core  
*منبع:* Telecom (MDPI), Vol. 5 (2), 2024, pp. 433–450  
*DOI:* [10.3390/telecom5020022](https://doi.org/10.3390/telecom5020022)

---

## 🧩 چکیده (Abstract)

در این مقاله، راهکاری برای *ادغام قابلیت‌های Multi-Access Edge Computing (MEC)* در ساختار *Open 5G Core (5GC)* ارائه شده است.  
هدف از این کار، فراهم‌سازی بستری باز و قابل توسعه برای اجرای سرویس‌های لبه‌ای (Edge Services) است که بتوانند به‌طور مستقیم با هستهٔ شبکه 5G تعامل داشته باشند.  
پیاده‌سازی انجام‌شده بر اساس *free5GC—یک هستهٔ متن‌باز و ماژولار برای شبکه نسل پنجم—و **محیط کانتینری Kubernetes* صورت گرفته است تا امکان مقیاس‌پذیری و استقرار سریع فراهم شود.  

روش پیشنهادی با طراحی و ارزیابی مجموعه‌ای از *شاخص‌های کلیدی عملکرد (KPIs)* از جمله latency، throughput، reliability و service availability در سناریوهای گوناگون شبکه (از جمله کاربردهای e-Health و سرویس‌های چندرسانه‌ای با تأخیر کم) بررسی شده است.  
نتایج نشان می‌دهد که معماری پیشنهادی می‌تواند زمان پاسخ را تا حدود *۳۵٪ نسبت به ساختارهای سنتی کاهش دهد*، بدون آن‌که پایداری یا مقیاس‌پذیری سیستم تحت تأثیر قرار گیرد.  

علاوه بر این، مقاله چارچوبی را برای *توسعهٔ ماژول‌های MEC به‌صورت Plug-and-Play* معرفی می‌کند که می‌توانند به‌سادگی در لایهٔ کنترل (Control Plane) شبکه 5G Core ثبت و فعال شوند.  
این قابلیت، گامی مؤثر در جهت *خودکارسازی استقرار سرویس‌های لبه‌ای* و حرکت به‌سوی *شبکه‌های هوشمند و تطبیق‌پذیر نسل آینده (6G-ready)* محسوب می‌شود.  

در نهایت، ارزیابی تجربی با استفاده از نمونه‌های واقعی نشان می‌دهد که راهکار پیشنهادی می‌تواند نیازهای اپراتورهای موبایل و ارائه‌دهندگان خدمات ابری را برای پیاده‌سازی *سرویس‌های نزدیک به کاربر (Edge-Proximal Services)* برطرف کرده و ترکیب بهینه‌ای از کارایی، انعطاف‌پذیری و هزینهٔ پایین فراهم آورد.


## 1. مقدمه (Introduction)

نسل پنجم شبکه‌ها (5G) به‌عنوان سکوی اصلی برای کاربردهای بی‌سیم آینده در نظر گرفته می‌شود و هدف آن فراهم‌کردن نرخ‌های دادهٔ اوج تا 20 گیگابیت بر ثانیه، نرخ‌های متوسط بالاتر از 100 مگابیت بر ثانیه، و اتصال برای تعداد زیادی از دستگاه‌های اینترنت اشیا (IoT) به ازای هر واحد سطح است [1].  
علاوه بر این، کاهش مصرف باتری دستگاه، کاهش مصرف انرژی، و توانایی اتصال تعداد بسیار زیادی از دستگاه‌ها نیز جزو اهداف است [2].

در آینده، شبکه‌های 6G به پیشروی خود ادامه خواهند داد تا با تقاضاهای رو‌به‌رشدِ نرخ داده، افزایش تعداد اسلایس‌های شبکهٔ ایجادشده، افزایش چگالی دستگاه‌ها و حسگرهای متصل سازگار شوند [3].  
این امر مستلزم آن است که 6G در ابعاد بسیار بزرگ و به‌صورت اَبَرمتصل و خودکار عمل کند، و در پیِ ادغام جهان دیجیتال و واقعی در تمامی ابعاد و به‌شکل فراگیر باشد؛ با یکپارچه‌سازی قوی شبکه‌های فضایی و زمینی، و همچنین بهره‌گیری گسترده از فناوری‌های مکان‌مندی، حسگری و هوش مصنوعی [4].

مطالعات اخیر در حوزهٔ شبکه‌های 6G، MEC را به‌عنوان یک «توانمندساز ضروری» برجسته می‌کنند که باید در 6G تثبیت شود تا الزامات لبه‌های شبکهٔ بسیار متراکم را برآورده کند [3–5]؛  
برای نمونه، MEC می‌تواند با پردازش داده‌های محاسبات‌سنگین یا کش‌کردن ویدئوهای فوق‌وضوح (UHD) در لبه، *تأخیرِ انتقالِ فوق‌العاده کم* را تضمین کرده و پخش بدون نقص ویدئوهای 4K/8K را ممکن سازد [3].

شبکهٔ موبایل نسل پنجم، که توسط *3rd Generation Partnership Project (3GPP)* استاندارد شده است، انتشارهای متعددی دارد که جنبه‌های مختلف شبکه را تعریف می‌کنند.  
یکی از این جنبه‌ها معماریِ جدیدی است که جداسازی بین *صفحهٔ داده (DP)* و *صفحهٔ کنترل (CP)* را معرفی می‌کند که *SBA* نام دارد [6].  
علاوه بر این، نسل جدیدی از خدمات برای 5G پیشنهاد شده است، شامل: (i) *eMBB: بیشینه‌سازی نرخ انتقال داده؛ (ii) **URLLC: کمینه‌سازی تأخیر و تضمین قابلیت اتکا؛ (iii) **mMTC*: پشتیبانی از تعداد زیادی دستگاه در یک ناحیه [7,8].

ظهور شبکه‌های 5G امکانات گوناگونی را برای پیاده‌سازی کاربردها و خدمات جدید—مانند واقعیت مجازی، واقعیت افزوده، خودروهای خودران، و IoT—گشوده است.  
این کاربردها منابع شبکه‌ای قابل توجهی می‌طلبند و شبکه باید از حجم‌های رو‌به‌افزایشِ داده پشتیبانی کند.  
ویژگی‌هایی مانند *تأخیرِ فوق‌العاده کم، **پهنای‌باند وسیع* و *مصرف بهینهٔ منابع* باید توسط یک شبکهٔ 5G ارائه شوند [9].  
یک رویکرد مؤثر این است که این کاربردها در *لبهٔ شبکه* مستقر شوند و با نزدیک‌کردن آن‌ها به کاربران، از محاسبات لبه‌ای و کاهش زمان‌های انتقال فیزیکی بهره ببرند.  
اینجاست که *Multi-Access Edge Computing (MEC)* حیاتی می‌شود [10].

*محاسبات لبه* به‌عنوان تکامل نویدبخشِ رایانش ابری مطرح شده و مزایایی مانند مقیاس‌پذیری بهتر (به‌ویژه برای حجم‌های بزرگ داده) و تأخیرهای کمتر (برای تحقق خدمات آنیِ حیاتی مانند حس‌کردن/کنترل از راه دور یا بازی‌های توزیع‌شده)، و نیز حفاظت از حریم خصوصی و اطلاعات بافتاری را به همراه دارد [11].  
*MEC* که توسط *ETSI ISG* استانداردسازی شده، خدمات را به منبع داده در لبهٔ شبکه نزدیک می‌کند [12].  
این استاندارد یک *چارچوب و معماری جامع* را دربرمی‌گیرد [13].  
علاوه بر این، مجموعه‌ای از *MEC APIها وجود دارد که بر اساس اصول عمومی طراحی **RESTful API* طراحی شده‌اند [14].

MEC عمدتاً از طریق شبکه‌های موبایل مانند *4G LTE-Advanced* [15] و شبکهٔ رو‌به‌رشد *5G* [16] دسترس‌پذیر است، هرچند از منظر شیوهٔ دسترسی «بی‌طرف» است [11].  
MEC به‌جای آنکه راهکاری مستقل باشد، برای *تکمیل* 5G طراحی شده است، خصوصاً در پاسخ به نیازهایی مانند *تأخیرِ فوق‌العاده کم* که برای *URLLC* حیاتی‌اند [17].  
در این زمینه، *یکپارچه‌سازی* بین شبکه‌های 5G و چارچوب‌های MEC ضروری می‌شود و می‌تواند از طریق *خدمات MEC* مطابق با معماری مرجع ETSI پیاده‌سازی شود.

افزون‌براین، اپراتورها می‌توانند از امکانات موجود در لبهٔ شبکه‌های موبایل بهره بگیرند و *RAN* را به روی طرف‌های ثالث بگشایند؛ بدین‌ترتیب استقرار انعطاف‌پذیر خدمات نوآورانه برای مشترکان موبایل و کسب‌وکارها ممکن می‌شود [11].  
هنگام پیاده‌سازی MEC در شبکه‌های موبایل، *میزبان‌ها* در لبهٔ شبکه (در نزدیکی شبکهٔ دسترسی رادیویی 4G یا 5G) قرار می‌گیرند، از *کاربردهای MEC* پشتیبانی کرده و از APIهایی مانند *Radio Network Information (RNI)* و *location API*ها استفاده می‌کنند.  
سایر APIها نیز بر پایهٔ اصول طراحی RESTful افشا می‌شوند تا *هم‌کنش‌پذیری* و *قابل‌همراه‌بردن بودن*ِ (portability) کاربردهای MEC در دامنه‌های مختلف تضمین شود [11].

این کار بر *مزایای بهره‌گیری از MEC در شبکه* استوار است.  
این مزایا—به‌ویژه *کاهش چشمگیر انتقال محتوای تکراری* در لینک‌های بک‌هاول—*کیفیت خدمت (QoS)* را بهبود می‌دهند و به *کاهش تأخیر* و *بار محاسباتی* می‌انجامند [9,18,19].  
استفاده از شبکه‌های دادهٔ سیار در سراسر جهان در حال افزایش است.  
برای نمونه، در برزیل—مطابق گزارش آژانس ملی مخابرات (*ANATEL)—دسترسی پهن‌باند سیار از **211.8 میلیون* به *213.7 میلیون* تنها در مدت یک ماه افزایش یافت [20].  
پیش‌بینی می‌شود تا سال *2026، **54٪* از ترافیک دادهٔ موبایل از طریق شبکه‌های 5G انجام شود؛ موضوعی که اپراتورها را برمی‌انگیزد تا برای پاسخ به این تقاضای فزاینده، هم برای کاربران و هم برای زیرساخت، بهبودهایی را دنبال کنند [21].  
به‌طور مشابه، پژوهش آمازون نشان داد که هر *100 میلی‌ثانیه* تأخیر در وب‌سایت‌های آن‌ها به *۱٪ کاهش فروش* منجر می‌شود، در حالی‌که گوگل نتیجه گرفت که *0.5 ثانیه* افزایش در زمان بارگذاری صفحهٔ جستجو باعث *20٪ کاهش* در ترافیک کاربر می‌شود [22].  
پیش‌بینی می‌شود برخی موارد کاربرد در شبکه‌های 5G برای ارائهٔ خدمات به کاربران نهایی، به مفاهیم و چارچوب‌های MEC *وابسته* شوند [23].  
برای نمونه می‌توان به خودروهای خودران، شهرهای هوشمند، مراقبت‌های سلامت و بازار واقعیت افزوده/واقعیت مجازی اشاره کرد—همگی *حسّاس به تأخیراند و از پذیرش اصول MEC در استقرار خود **بهرهٔ فراوان* می‌برند؛ این‌ها برای مثال در حوزهٔ خدمات *URLLC* نمود می‌یابند [24].

برای دستیابی به اهداف این کار، ما با بررسی ویژگی‌های خاص *MEC* و *فناوری 5G* آغاز کردیم.  
اجزای نرم‌افزاری در معماری آن‌ها را تحلیل کردیم و اهداف و ویژگی‌هایشان را شناختیم.  
هستهٔ شبکهٔ انتخاب‌شده *free5GC* بود (پروژهٔ متن‌باز برای هستهٔ 5G) که به‌دلیل *کد متن‌باز، انطباق با استانداردهای 3GPP و جامعهٔ فعال* برگزیده شد.  
این انتخاب با استفاده از *my5G-core* (یک هستهٔ 5G مستقل مطابق با استانداردهای 3GPP) که *انشعابی از free5GC* است، تقویت شد [17,25].  
برای شناسایی سکوهای MEC که اهداف این مطالعه را برآورده سازند پژوهشی انجام شد؛ بااین‌حال، *کمبود مستندات و پشتیبانی* منجر شد که *یک سکوی MEC شبیه‌سازی‌شده* با استفاده از *کلاستر Kubernetes* ایجاد کنیم.  
*سرویس پیشنهادی* بر پایهٔ استانداردها و با پایبندی به اهداف *Multi-Access Traffic Steering (MTS) API* توسعه یافت.  
علاوه‌براین، یک *Service Registry (SR)* برای تشکیل محیط اعتبارسنجی، به‌همراه یک *کاربرد آزمایشی* ساخته شد.

اعتبارسنجی در سه بخش انجام شد.  
نخست، عملکرد منفرد *free5GC، **کلاستر Kubernetes* و *کاربردها/خدمات پیاده‌سازی‌شده* اعتبارسنجی شد.  
سپس، *ثبتِ کاربردها/خدمات در SR* آزموده شد.  
در نهایت، بخش سوم شامل *اعتبارسنجی سرویس پیشنهادی* و *جمع‌آوری و ارزیابی نتایج* بود.  
جزئیات بیشتر دربارهٔ محیط ارزیابی و *تمامی کد منبع* در *مخزن GitHub* (https://github.com/LABORA-INF-UFG/5g-mec-integration، دسترسی در 25 آوریل 2024) به‌طور عمومی در دسترس است.

*مشارکت‌های* این کار به شرح زیر است:

- *ادغام بین MEC و 5GC:* این مطالعه قابلیت ادغام 5G و MEC را از طریق یک *API ارتباطی* نشان می‌دهد.  
- *پیاده‌سازی سرویس یکپارچه‌سازی:* یکی از راه‌های تحقق ادغام بین MEC و فناوری 5G *پیاده‌سازی یک سرویس مشخص* است. این سرویس می‌تواند با استفاده از یک *API ارتباطی اختصاصی* ارائه شود.  
- *گسترش MTS API:* MTS API اصلی برای هدایت ترافیکِ کاربرد به سمت 5GC طراحی نشده بود؛ بنابراین، برای *امکان انتقال ترافیک بین MEC و شبکهٔ 5G* لازم است این API با ایجاد یک سرویس مشخص جدید *گسترش* یابد.  
- *اعتبارسنجی API در محیط آزمایشی:* API پیشنهادی در یک *محیط testbed* با استفاده از یک *چارچوب MEC شبیه‌سازی‌شده* و یک *5GC* اعتبارسنجی شد.

ساختار این مقاله به این صورت است: *بخش 2* مفاهیم بنیادینی را که برای درک این کار لازم است ارائه می‌کند. *بخش 3* مرور ادبیات مرتبط با این کار را در بر می‌گیرد. *بخش 4* پیشنهاد این کار را شامل معماری، جزئیات پیاده‌سازی و شیوهٔ عملکرد توصیف می‌کند. *بخش 5* موارد کاربرد مورد استفاده برای اهداف مقایسه‌ای، محیط testbed، معیارهای ارزیابی و نتایج گردآوری‌شده را ارائه کرده و پیامدهای آن‌ها را بحث می‌کند. *بخش 6* مقاله را جمع‌بندی می‌کند.

## 2. سیستم 5G (The 5G System)

*سیستم نسل پنجم (5GS)* در دو حالت قابل استقرار است:  
(i) *استقرار مستقل (Standalone - SA)*، و  
(ii) *استقرار غیرمستقل (Non-Standalone - NSA)* [26].  

در حالت SA، شبکه شامل *هسته‌ی 5G (5GC)* و *شبکه‌ی دسترسی رادیویی نسل پنجم (NG-RAN)* است.  
در مقابل، حالت NSA از *هسته‌ی LTE EPC (Evolved Packet Core)* و *RAN ترکیبی* شامل ایستگاه پایه‌ی LTE و gNodeB استفاده می‌کند.  
به عبارت دیگر، در حالت NSA، *هسته‌ی شبکه‌ی نسل چهارم* هنوز مورد استفاده است، اما از طریق gNodeBها به تجهیزات کاربر (UEها) خدمات نسل پنجم ارائه می‌شود.  
در حالت SA، *تمام اجزای شبکه* (از جمله هسته و RAN) بومی 5G هستند.  
پیکربندی SA با هدف *پشتیبانی کامل از معماری مبتنی بر سرویس (SBA)* طراحی شده است.  
در این معماری، ماژول‌های عملکردی 5GC به‌صورت سرویس‌های مجزا و قابل‌ادغام تعریف می‌شوند.

شکل 1 معماری سطح‌بالای شبکه‌ی 5G را مطابق با مشخصات *3GPP TS 23.501 [27]* نشان می‌دهد.  
این معماری از سه دامنه‌ی اصلی تشکیل شده است:  
1. *شبکه‌ی دسترسی رادیویی (RAN)*  
2. *هسته‌ی شبکه (Core Network - CN)*  
3. *دامنه‌ی خدمات (Services Domain)*  

شبکه‌ی دسترسی (RAN) شامل گره‌های *gNodeB* است که ارتباط بی‌سیم با تجهیزات کاربر (*User Equipment - UE*) برقرار می‌کنند.  
هر gNodeB از طریق واسط *N2* با *تابع مدیریت دسترسی و تحرک (AMF)* و از طریق *N3* با *تابع کاربر (UPF)* در هسته‌ی شبکه ارتباط دارد.

هسته‌ی شبکه (5GC) از مجموعه‌ای از *Network Function (NF)ها تشکیل شده است که هر کدام وظیفه‌ی مشخصی دارند و از طریق واسط‌های **Service-Based Interface (SBI)* با یکدیگر تعامل می‌کنند.  
برای نمونه:  
- *AMF (Access and Mobility Management Function):* مسئول مدیریت ثبت کاربر و کنترل تحرک.  
- *SMF (Session Management Function):* وظیفه‌ی پیکربندی نشست‌های داده و تخصیص آدرس‌های IP به کاربران.  
- *UPF (User Plane Function):* هدایت و مسیریابی بسته‌های داده در مسیر کاربر.  
- *PCF (Policy Control Function):* مدیریت سیاست‌های کنترل ترافیک و تخصیص منابع.  
- *AUSF (Authentication Server Function):* انجام فرآیند احراز هویت کاربر.  
- *UDM (Unified Data Management):* ذخیره‌سازی پروفایل کاربران و داده‌های مشترک.  
- *NSSF (Network Slice Selection Function):* انتخاب اسلایس مناسب برای هر درخواست خدماتی.  
- *NEF (Network Exposure Function):* فراهم‌کردن واسط‌های استاندارد برای تعامل با برنامه‌های خارجی.  
- *NRF (Network Repository Function):* پایگاه داده‌ی ثبت سرویس‌ها و NFهای فعال در شبکه.  

این معماری *انعطاف‌پذیری بالا و مقیاس‌پذیری* چشمگیری را ارائه می‌دهد، زیرا هر NF می‌تواند به‌صورت مستقل استقرار یافته یا ارتقا یابد.  
همچنین، تمام ارتباطات میان این ماژول‌ها از طریق *RESTful APIs* و قالب‌های JSON انجام می‌شود، که باعث *سازگاری با محیط‌های ابری (Cloud-Native)* و *کانتینری‌سازی (Containerization)* می‌شود.  

ویژگی مهم دیگر در معماری 5GC، پشتیبانی از *Network Slicing* است.  
این مفهوم اجازه می‌دهد چندین شبکه‌ی مجازی، با ویژگی‌های عملکردی متفاوت، روی یک زیرساخت فیزیکی مشترک اجرا شوند.  
هر Slice می‌تواند به کاربرد خاصی اختصاص یابد؛ برای مثال:  
- یک Slice برای سرویس‌های *URLLC* (مانند کنترل صنعتی)  
- یک Slice دیگر برای *eMBB* (ویدئو با کیفیت بالا)  
- و Slice سومی برای *mMTC* (اتصال حسگرهای گسترده).  

علاوه بر این، 5GC برای سازگاری با *Multi-Access Edge Computing (MEC)* نیز طراحی شده است.  
درواقع، MEC می‌تواند به‌عنوان یک لایه‌ی افزوده در مرز بین RAN و Core عمل کند تا بار پردازشی را به لبه منتقل کند.  
ارتباط میان MEC و 5GC از طریق واسط‌هایی نظیر *N6 و N9* برقرار می‌شود؛  
در این حالت، *UPF نزدیک به MEC* قرار گرفته و به‌صورت محلی داده‌های کاربر را به سرور لبه‌ای هدایت می‌کند.  

در نتیجه، 5G با معماری SBA و قابلیت Network Slicing، بستری بسیار مناسب برای ادغام فناوری‌های جدید از جمله *MEC، Cloud-Native Core، و Orchestration مبتنی بر Kubernetes* فراهم می‌کند.  
این قابلیت‌ها در ادامه مقاله برای ایجاد چارچوب پیشنهادی ما مورد استفاده قرار می‌گیرند

## 3. محاسبات لبه چنددسترسی (Multi-Access Edge Computing - MEC)

*محاسبات لبه چنددسترسی (MEC)* یک مفهوم نوظهور در معماری شبکه است که پردازش، ذخیره‌سازی و سرویس‌های کاربردی را به نزدیکی کاربر نهایی منتقل می‌کند.  
هدف اصلی MEC، *کاهش تأخیر، بهبود پهنای باند مؤثر، و افزایش آگاهی از موقعیت (context awareness)* در ارائه‌ی خدمات است.  

### 3.1 معماری و اجزای اصلی MEC

معماری مرجع MEC مطابق با استاندارد *ETSI ISG MEC* از چندین جزء کلیدی تشکیل شده است [28]:

1. *MEC Host:*  
   شامل منابع پردازشی، ذخیره‌سازی و شبکه‌ای است که می‌تواند برنامه‌های MEC را اجرا کند.  
   این میزبان معمولاً در لبه‌ی شبکه، مثلاً در سایت‌های RAN یا گره‌های محلی اپراتور قرار دارد.

2. *MEC Platform:*  
   نرم‌افزاری است که بین برنامه‌های MEC و زیرساخت میزبان عمل می‌کند و قابلیت‌های اصلی مانند مدیریت چرخه‌ی عمر (Lifecycle Management)، کشف منابع و کنترل APIها را فراهم می‌سازد.

3. *MEC Applications:*  
   اینها ماژول‌های نرم‌افزاری‌اند که توسط توسعه‌دهندگان شخص‌سوم (Third-Party Developers) طراحی شده‌اند تا خدمات خاصی مانند تجزیه‌وتحلیل ویدئو، مسیریابی هوشمند یا تشخیص ترافیک ارائه دهند.

4. *MEC Orchestrator:*  
   مؤلفه‌ای در سطح اپراتور که مسئول هماهنگی چندین میزبان MEC است و بر تخصیص منابع و استقرار سرویس‌ها نظارت دارد.

5. *Operations Support System (OSS):*  
   واسطه‌ای بین لایهٔ مدیریت شبکه و محیط MEC است و داده‌های عملکردی و مدیریتی را در اختیار اپراتور قرار می‌دهد.

شکل 2 از استاندارد ETSI معماری مرجع MEC را نشان می‌دهد، که در آن اجزای فوق از طریق رابط‌های استاندارد (مانند Mp1 و Mm5) با یکدیگر در ارتباط‌اند.  
این ساختار ماژولار اجازه می‌دهد هر جزء مستقل توسعه یابد یا جایگزین شود بدون اینکه عملکرد کل سیستم مختل گردد.

### 3.2 اصول طراحی MEC

اصول طراحی MEC بر پایه‌ی سه محور اصلی است:

- *نزدیکی به کاربر (User Proximity):*  
  داده‌ها در همان منطقه‌ای پردازش می‌شوند که تولید شده‌اند، که منجر به کاهش محسوس تأخیر انتقال می‌شود.

- *پشتیبانی از چند نوع دسترسی (Multi-Access):*  
  MEC می‌تواند به‌صورت هم‌زمان با چند فناوری شبکه کار کند، از جمله 5G، LTE، Wi-Fi و حتی شبکه‌های ثابت.

- *برنامه‌پذیری و انعطاف‌پذیری:*  
  از آنجا که MEC بر مبنای APIهای باز (مانند RESTful APIs) ساخته شده است، توسعه‌دهندگان می‌توانند برنامه‌های سفارشی را برای انواع کاربردها مستقر کنند.

### 3.3 رابط‌های ارتباطی MEC

مطابق با مشخصات ETSI، چند رابط کلیدی در محیط MEC وجود دارد [29]:

- *Mp1:* بین MEC Platform و برنامه‌های MEC (MEC Applications).  
- *Mm5:* بین MEC Platform و Orchestrator برای کنترل و هماهنگی منابع.  
- *Mm3:* برای ارتباط میان Orchestrator و OSS.  
- *Mx2 و Mx3:* برای تبادل اطلاعات با شبکه‌های خارجی یا سرویس‌های ابری.

این رابط‌ها از معماری RESTful پیروی می‌کنند و از فرمت‌های JSON برای تبادل داده استفاده می‌شود، تا *سازگاری کامل با محیط‌های ابری و میکروسرویس‌ها* فراهم گردد.

### 3.4 تعامل MEC و 5G

ادغام MEC با شبکه‌های نسل پنجم (5G) به‌منظور دستیابی به اهداف کلیدی چون *تأخیر کمتر از 10 میلی‌ثانیه* و *بهره‌وری بالای منابع* انجام می‌شود.  
این یکپارچه‌سازی معمولاً از طریق رابط *N6* صورت می‌گیرد که *UPF (User Plane Function)* را به *میزبان MEC* متصل می‌کند.  

در چنین پیکربندی، داده‌های کاربر به جای ارسال به سرور مرکزی، توسط UPF در لبهٔ شبکه به MEC هدایت می‌شوند.  
این رویکرد موجب *کاهش بار در هستهٔ مرکزی* و *بهبود پاسخ‌دهی سرویس‌های حساس به زمان (Time-Critical Services)* می‌شود.

### 3.5 مزایای کلیدی MEC

مطابق یافته‌های اخیر [30–32]، مهم‌ترین مزایای پیاده‌سازی MEC عبارت‌اند از:

- *کاهش تأخیر انتها به انتها (End-to-End Latency)*؛  
- *افزایش نرخ ارسال مؤثر (Throughput)*؛  
- *کاهش بار در بک‌هاول (Backhaul Load)*؛  
- *بهبود امنیت از طریق پردازش محلی داده‌ها*؛  
- *امکان ارائهٔ سرویس‌های بومی مکان (Location-Aware Services)*؛  
- و *افزایش بهره‌وری انرژی و منابع محاسباتی*.

### 3.6 چالش‌های فعلی MEC

اگرچه MEC چشم‌اندازی امیدوارکننده دارد، پیاده‌سازی آن با چالش‌هایی نیز روبه‌روست، از جمله:

- نبود *چارچوب یکپارچه برای مدیریت منابع میان اپراتورها*؛  
- نیاز به *استانداردسازی در مکانیزم‌های امنیتی و احراز هویت*؛  
- محدودیت در *قابلیت جابه‌جایی سرویس‌ها میان گره‌های MEC مختلف*؛  
- و پیچیدگی در *هماهنگی بین MEC و هستهٔ 5G در سطوح کنترل و کاربر*.

از این‌رو، پژوهش‌های اخیر تمرکز خود را بر روی طراحی *چارچوب‌های ترکیبی و خودکارسازی orchestration* گذاشته‌اند تا بتوانند مدیریت پویا و مقیاس‌پذیر را در محیط‌های چندگانه MEC فراهم کنند.  

این دقیقاً همان انگیزه‌ای است که پژوهش حاضر بر آن استوار شده است و در بخش بعد، چارچوب پیشنهادی برای *ادغام MEC در Open 5G Core* ارائه می‌شود.

## 4. معماری پیشنهادی و پیاده‌سازی (Proposed Architecture and Implementation)

در این بخش، چارچوب پیشنهادی برای *ادغام سرویس‌های MEC در هستهٔ متن‌باز 5G (free5GC)* ارائه می‌شود.  
هدف از این طراحی، فراهم‌کردن بستری است که در آن سرویس‌های لبه‌ای بتوانند به‌صورت خودکار در *محیط هستهٔ شبکه ثبت، کشف و فراخوانی* شوند.  
این معماری در شکل 3 نشان داده شده است.

![Figure 3: Proposed MEC Integration Architecture](fig3_proposed_architecture.png)
> شکل 3. معماری پیشنهادی برای ادغام MEC در free5GC. بخش‌های اصلی شامل MEC Service، Service Registry، و ماژول Interaction API هستند.

### 4.1 نمای کلی معماری

چارچوب پیشنهادی شامل سه جزء کلیدی است:

1. *MEC Service (سرویس MEC):*  
   ماژول اجرایی که در لایهٔ لبه (Edge) مستقر شده و وظیفهٔ ارائهٔ سرویس محاسباتی یا تحلیلی را بر عهده دارد.

2. *Service Registry (SR):*  
   پایگاه داده‌ای که تمامی سرویس‌های فعال MEC را ثبت می‌کند و امکان کشف (Discovery) و فراخوانی (Invocation) آن‌ها را از طریق API فراهم می‌سازد.

3. *Integration API:*  
   یک رابط RESTful که ارتباط بین MEC و اجزای 5GC را هماهنگ می‌کند.  
   این API مطابق با الگوی Multi-Access Traffic Steering (MTS) توسعه یافته و قابلیت *ارتباط دوسویه با Network Functions* نظیر AMF، SMF و UPF را دارد.

ارتباط میان این اجزا از طریق *HTTP-based RESTful requests* برقرار می‌شود.  
در این ساختار، هر سرویس MEC هنگام راه‌اندازی، متادیتای خود (نظیر نام، نوع، URL و QoS) را به SR ارسال می‌کند تا در دسترس سایر اجزای شبکه قرار گیرد.

### 4.2 چرخهٔ ثبت و فراخوانی سرویس

فرآیند تعامل بین MEC و هسته به شرح زیر است:

1. *ثبت سرویس (Service Registration):*  
   هنگام استقرار، سرویس MEC از طریق API درخواست POST به SR ارسال کرده و مشخصات خود را ثبت می‌کند.

2. *کشف سرویس (Service Discovery):*  
   NFهای هسته (مانند SMF یا NEF) می‌توانند با ارسال درخواست GET به SR فهرست سرویس‌های در دسترس را بازیابی کنند.

3. *فراخوانی سرویس (Service Invocation):*  
   زمانی که یک NF به سرویس خاصی نیاز دارد، با استفاده از URI ارائه‌شده در پاسخ Discovery، درخواست خود را به سرویس MEC می‌فرستد.

این چرخه مشابه مدل Service-Based Architecture (SBA) در 5GC است و امکان گسترش پویا و افزونگی بالا را فراهم می‌کند.

### 4.3 پیاده‌سازی بر پایهٔ free5GC و Kubernetes

برای اعتبارسنجی عملی، معماری پیشنهادی بر پایهٔ *free5GC نسخه 3.1.3* و در محیط *Kubernetes Cluster* پیاده‌سازی شد.  
هر ماژول به‌صورت *Containerized Microservice* اجرا می‌شود تا امکان مقیاس‌پذیری، مانیتورینگ و استقرار خودکار فراهم گردد.

#### پیکربندی اجزا:

| ماژول | توصیف | محیط اجرا |
|--------|--------|-------------|
| AMF, SMF, UPF | Network Functions از free5GC | Podهای Kubernetes |
| MEC Service | ماژول پردازش لبه | Container جداگانه |
| Service Registry | پایگاه داده RESTful (MongoDB) | Deployment داخلی |
| Integration API | واسط ارتباطی بین MEC و Core | Pod مبتنی بر Node.js |

برای ارکستراسیون سرویس‌ها از *Helm Charts* استفاده شد و ارتباطات داخلی از طریق *Network Policies و ClusterIP Services* کنترل گردید.  

### 4.4 توصیف شکل 4 – محیط آزمون (Validation Environment)

![Figure 4: Validation Environment / Testbed](fig4_validation_env.png)
> شکل 4. محیط آزمایشی شامل سه ماشین مجازی (VM) که در آن free5GC، MEC Service، و Service Registry اجرا می‌شوند.

محیط آزمون از سه ماشین مجازی در بستر VMware تشکیل شده بود:

- *VM1:* شامل free5GC (AMF, SMF, UPF)  
- *VM2:* شامل Service Registry و Integration API  
- *VM3:* شامل سرویس MEC برای پردازش محلی داده‌ها  

تمام ماشین‌ها در شبکهٔ داخلی با آدرس‌های IP خصوصی به‌هم متصل بودند.  
پیکربندی به‌گونه‌ای بود که تأخیر شبکه بین اجزا کمتر از 5 میلی‌ثانیه باشد.  

### 4.5 گردش داده در سیستم (Data Flow)

فرآیند کلی به‌صورت زیر است:

1. UE از طریق gNodeB به شبکه متصل می‌شود.  
2. AMF فرآیند ثبت را انجام داده و نشست داده از طریق SMF ایجاد می‌گردد.  
3. هنگام دریافت ترافیک خاص، SMF با SR تماس گرفته و بررسی می‌کند که آیا سرویس MEC مرتبطی در دسترس است یا خیر.  
4. در صورت وجود، ترافیک از طریق UPF به سمت سرویس MEC هدایت می‌شود.  
5. نتایج پردازش‌شده به UE بازگردانده می‌شوند.

این طراحی باعث *کاهش محسوس در زمان پاسخ (Latency)* و *افزایش در نرخ انتقال مؤثر (Throughput)* می‌شود، زیرا ترافیک به‌جای ارسال به سرور مرکزی، در همان ناحیه پردازش می‌شود.

### 4.6 خلاصه

در این بخش، چارچوب پیشنهادی برای یکپارچه‌سازی MEC در 5GC شرح داده شد.  
در بخش بعد (5)، روش آزمایش و نتایج کمی حاصل از اعتبارسنجی سیستم ارائه خواهد شد.
